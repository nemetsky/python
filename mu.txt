from pprint import pprint
#from my_functions import parse_cdp_neighbors
import my_functions

def create_network_map(filenames):
    cdp_dicts = {}
    for file in filenames:
        with open(file) as f:
            output = my_functions.parse_cdp_neighbors(f.read())
            cdp_dicts.update(output)
    result = cdp_dicts.copy()
    for key1, value1 in cdp_dicts.items():
        for key, value in cdp_dicts.items():
          #  print(value)
            b = False
            if key1 == value:
                b = True
            if b and key1 == value:
                del result[key1]
                b = False
    #            print (key1, value)
            #    result[key1] = value1
    return result

infiles = [
    "sh_cdp_n_sw1.txt",
    "sh_cdp_n_r1.txt",
    "sh_cdp_n_r2.txt",
    "sh_cdp_n_r3.txt",
]

if __name__ == "__main__":
    pprint(create_network_map(infiles))